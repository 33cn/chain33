syntax = "proto3";

package types;

message AddressResult {
    string addr = 1;
    int64  amount = 2;
    bool   isWin = 3;
    repeated bool isBlack = 4;
}

// order
message BlackwhiteRound {
    // txhash
    string gameID = 1;
    int32 status = 2;
    int64 maxAmount =3;
    int32 playerCount = 4;
    int32 curPlayerCount = 5;
    string createAddr = 6;
    int64 timeout = 7;
    string gameName = 8;
    repeated AddressResult addrResult = 9;
    repeated string winner = 10;
}

// actions
message BlackwhiteAction {
    oneof value {
        BlackwhiteCreate create = 1;
        BlackwhiteCancel cancel = 2;
        BlackwhitePlay play = 3;
        BlackwhiteTimeoutDone timeoutDone = 4;
    }
    int32 ty = 5;
}

message BlackwhiteCreate {
    int64 maxAmount = 1;
    int32 playerCount = 2;
    int64 timeout = 3;
    string gameName = 4;
}

message BlackwhiteCancel {
    string gameID = 1;
}

message BlackwhitePlay {
    string gameID = 1;
    int64 amount = 2;
    repeated bool isBlack = 3;
}

message BlackwhiteTimeoutDone {
    string gameID = 1;
}

// logs
message ReceiptBlackwhite {
    BlackwhiteRound round = 1;
}

message ReqBlackwhiteRoundInfo {
    string gameID = 1;
}

message ReplyBlackwhiteRoundInfo {
    BlackwhiteRound round = 1;
}